<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组扩展</title>
</head>
<body>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <script>
        var personArr = [
            {name: '孙笑川', src: './src/img/01.png', des: '我是你哥哥', sex: 'm', age: 20},
            {name: '药水哥', src: './src/img/02.png', des: '我是孙🐶的弟弟', sex: 'm', age: 25},
            {name: '吴亦凡', src: './src/img/03.png', des: 'Bad Girl!', sex: 'm', age: 27},
            {name: '蔡徐坤', src: './src/img/04.png', des: '长得帅也是一种错🐎', sex: 'f', age: 21},
            {name: '蔡广坤', src: './src/img/05.png', des: '我在美国的校队', sex: 'f', age: 45},
        ];
        var cookieStr = "BD_UPN=12314753; BAIDUID=95A8EEB6E2AA871EEC693B0C4DA45AD2:FG=1; PSTM=1532443315; BIDUPSID=B50F28C799A8C0BC444B0AA9CBB1A993; sug=3; sugstore=0; ORIGIN=0; bdime=0; MCITY=-%3A; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_PS_PSSID=28858_1439_21113_28767_28724_28557_28835_28585_26350_28604; H_PS_645EC=4363EoejbDlKbX8La6OFHOyKZQ1tnn%2Fl9hxsULWY3lvj9ZDuw0iibekWnVM; delPer=0; BD_CK_SAM=1; PSINO=7; BD_HOME=0";
        // personArr.forEach(function(ele, index, self) {
        //     this[index].innerText = ele.name;
        // }, document.getElementsByTagName('li'))

        // 自己实现一下forEach
        // Array.prototype.myForEach = function(func) {
        //     var _arr = this,
        //         len = _arr.length,
        //         param2 = arguments[1] || window;
        //     for(var i = 0; i < len; i ++) {
        //         //ele对应当前元素, index对应当前元素索引, self对应数组本身
        //         func.apply(param2, [_arr[i], i, _arr]);
        //     }
        // }

        // // 我们来试一下自己实现的myForEach是否有相同的作用
        // personArr.myForEach(function(ele, index, self) {
        //     this[index].innerText = ele.name;
        // }, document.getElementsByTagName('li'))
        
        // filter, 过滤, 返回一个新的符合过滤要求的数组
        // var newArr = personArr.filter(function(ele, index, self) {
        //     return ele.sex == 'f';
        // })

        // 现在我们自己实现一下myfilter
        // Array.prototype.myFilter = function(func) {
        //     var _arr = this,
        //         len = this.length,
        //         param2 = arguments[1] || window,
        //         newArr = [];
        //     for(var i = 0; i < len; i ++) {
        //         func.apply(param2, [_arr[i], i, _arr]) ? newArr.push(_arr[i]) : "";
        //     }
        //     return newArr;
        // }

        // var newArr = personArr.myFilter(function(ele, index, self) {
        //     return ele.sex == 'f';
        // })

        // map, 映射, 返回一个新的数组, 和之前的数组存在某种映射关系
        // var newArr = personArr.map(function(ele, index, self) {
        //     return ele.des + '!';
        // }, {name: 'test'})
        // 同样, 我们现在来实现一下myMap
        // Array.prototype.myMap = function(func) {
        //     var _arr = this,
        //         len = this.length,
        //         param2 = arguments[0] || window,
        //         newArr = [];
        //     for(var i = 0; i < len; i ++) {
        //         newArr.push(func.apply(param2, [_arr[i], i, _arr]));
        //     }
        //     return newArr;
        // }
        // var newArr = personArr.myMap(function(ele, index, self) {
        //     return ele.des + "!"; 
        // })

        // every, 如果数组中的每一个元素都满足某种要求的话, 返回true, 只要有一个不满足, 就返回false
        // var flag = personArr.every(function(ele, index, self) {
        //     // console.log(ele);
        //     return ele.age > 10;
        // })
        // 我们来实现一下myEvery
        // Array.prototype.myEvery = function(func) {
        //     var _arr = this,
        //         len = this.length,
        //         param2 = arguments[1] || window;
        //     for(var i = 0; i < len; i ++) {
        //         if(func.apply(param2, [_arr[i], i, _arr]) == false) {
        //             return false;
        //         }
        //     }
        //     return true;
        // }
        // var flag = personArr.myEvery(function(ele, index, self) {
        //     return ele.age < 100;
        // })

        // some, 只要数组中的一个元素满足某种需求, 就返回true, 否则返回false
        // var flag = personArr.some(function(ele, index, self) {
        //     return ele.age < 7;
        // })
        // 我们自己来实现一下mySome
        // Array.prototype.mySome = function(func) {
        //     var _arr = this,
        //         len = this.length,
        //         param2 = arguments[1];
        //     for(var i = 0; i < len; i ++) {
        //         if(func.apply(param2, [_arr[i], i, _arr]) == true) {
        //             return true;
        //         }
        //     }
        //     return false;
        // }
        // var flag = personArr.mySome(function(ele, index, self) {
        //     return ele.age > 30;
        // })

        // reduce, 两个参数, 一个函数, 一个initialValue, func里面有四个参数(前面的值, 当前值, 索引, 自身), 函数返回结果是initialValue
        // var initialValue = {};
        // personArr.reduce(function(preValue, curValue, index, self) {
        //     console.log(preValue, curValue, index, self);
        //     return preValue;
        // }, initialValue)

        // 我们来实现一下myReduce
        // Array.prototype.myReduce = function(func, initialValue) {
        //     var _arr = this, len = this.length, param2 = arguments[2];
        //     for(var i = 0; i < len; i ++) {
        //         initialValue = func.apply(param2, [initialValue, _arr[i], i, _arr]);
        //     }
        //     return initialValue;
        // }
        // var initialValue = {};
        // personArr.myReduce(function(preValue, curValue, index, self) {
        //     console.log(preValue, curValue, index, self);
        //     return preValue;
        // }, initialValue)

        // 现在我们来把cookieStr变成一个数组, 每一个元素都是一个对象
        // function parseCookie(str) {
        //     var cookieArr = str.split('; '),
        //         cookieObj = {};
        //     cookieArr.reduce(function(preValue, curValue, index, self) {
        //         curArr = curValue.split('=');
        //         cookieObj[curArr[0]] = curArr[1];
        //         return preValue;
        //     }, cookieObj)
        //     return cookieObj;
        // }
        // var cookieObj = parseCookie(cookieStr);
        // console.log(cookieObj);
        
    //    var oUl = document.getElementsByTagName('ul')[0];
    //    function throttle() {
    //        console.log(1);
    //        return function() {
    //            console.log(2);
    //        }
    //    }
    //    oUl.onclick = throttle();

    
    </script>
</body>
</html>